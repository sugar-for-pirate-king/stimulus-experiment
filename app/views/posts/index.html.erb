<div data-controller="search">
  <%= form_with(url: posts_path, method: :get, data: { target: 'search.form' }, remote: true) do |form| %>
    <%= form.text_field :query, value: params[:query], class: 'form-control', data: { action: 'keyup->search#call' } %>
  <% end %>
</div>

<br>
<div id="results">
  <%= render 'posts', posts: @posts %>
</div>

